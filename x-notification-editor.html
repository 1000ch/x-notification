<link rel="import" href="bower_components/polymer/polymer.html">

<link rel="import" href="bower_components/paper-input/paper-input.html">
<link rel="import" href="bower_components/paper-radio-group/paper-radio-group.html">
<link rel="import" href="bower_components/paper-button/paper-button.html">

<dom-module id="x-notification-editor">
  <style>
    :host pre {
      padding: 10px;
      overflow-x: scroll;
      font-size: 14px;
      font-family: Consolas, 'Source Code Pro', monospace;
      background: #272822;
      color: #fff;
    }
  </style>
  <template>

    <!-- target notification -->
    <x-notification id="notification" title="{{titleValue}}" dir="{{dirValue}}" lang="{{langValue}}" delay="{{delayValue}}" timeout="{{timeoutValue}}">{{bodyValue}}</x-notification>

    <!-- tag state -->
    <pre>{{html}}</pre>

    <!-- x-notification editor -->
    <div><paper-input label="Title" value="{{titleValue}}"></paper-input></div>
    <div>
      <paper-radio-group id="dir" selected="auto" on-paper-radio-group-changed="directionChanged">
        <paper-radio-button name="auto" label="Auto" value="auto"></paper-radio-button><br>
        <paper-radio-button name="ltr" label="Left to Right" value="ltr"></paper-radio-button><br>
        <paper-radio-button name="rtl" label="Right to Left" value="rtl"></paper-radio-button>
      </paper-radio-group>
    </div>
    <div><paper-input label="Language" value="{{langValue}}"></paper-input></div>
    <div><paper-input label="Body" value="{{bodyValue}}"></paper-input></div>
    <div><paper-input label="Delay" value="{{delayValue}}" pattern="^[0-9]*$" error="Input is not a number!"></paper-input></div>
    <div><paper-input label="Timeout" value="{{timeoutValue}}" pattern="^[0-9]*$" error="Input is not a number!"></paper-input></div>
    <paper-button on-click="showNotification" style="color: #4285f4; fill:#4285f4;">Custom Notification</paper-button>
  </template>
</dom-module>

<script>
  Polymer({
    is: 'x-notification-editor',
    properties: {
      titleValue: {
        type: String,
        value: ''
      },
      dirValue: {
        type: String,
        value: ''
      },
      langValue: {
        type: String,
        value: ''
      },
      bodyValue: {
        type: String,
        value: ''
      },
      delayValue: {
        type: Number,
        value: 0
      },
      timeoutValue: {
        type: Number,
        value: 0
      },
      html: {
        type: String,
        computed: 'computeHTML(titleValue, dirValue, langValue, bodyValue, delayValue, timeoutValue)'
      }
    },
    directionChanged: function (e, detail) {
      this.dirValue = Polymer.dom(this.root).querySelector('#dir').selected;
    },
    showNotification: function () {
      Polymer.dom(this.root).querySelector('#notification').show();
    },
    computeHTML: function (titleValue, dirValue, langValue, bodyValue, delayValue, timeoutValue) {
      return '<x-notification id="notification" title="' + titleValue + '" dir="' + dirValue + '" lang="' + langValue + '" delay="' + delayValue + '" timeout="' + timeoutValue + '">' + bodyValue + '</x-notification>';
    }
  });
</script>
